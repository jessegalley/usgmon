# usgmon configuration file

database:
  # Path to SQLite database file
  path: /var/lib/usgmon/usgmon.db

logging:
  # Log level: debug, info, warn, error
  level: info
  # Log format: text or json
  format: text

scan:
  # Default scan interval (can be overridden per path)
  interval: 1h
  # Number of worker goroutines for parallel scanning
  workers: 4

# Paths to monitor
paths:
  # Monitor user home directories
  - path: /www/users
    depth: 1        # Scan /www/users/* directories
    interval: 30m   # Scan every 30 minutes (overrides default)

  # Monitor home directories
  - path: /home
    depth: 1        # Scan /home/* directories
    # Uses default interval (1h)
    exclude:        # Directories to skip during enumeration
      - /home/backup
      - /home/shared/temp

  # Monitor hashpath directories with symlinks
  # Useful when symlinks distribute users across volumes:
  # /mailhome/new/a -> /mailhome2/new/a
  - path: /mailhome/new
    depth: 2
    follow_symlinks: true  # Follow symlinks to their targets

  # Monitor a specific directory
  # - path: /data/backups
  #   depth: 0      # Scan the directory itself (not subdirectories)
  #   interval: 6h  # Scan every 6 hours
